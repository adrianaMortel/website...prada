<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Prada - Cart</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
<style>
*{
  margin:0;padding:0;
  box-sizing:border-box;
  font-family: 'Didot', serif, Helvetica, Arial, sans-serif;
}
body{
  background:#111;color:#fff;min-height:100vh;
}
nav{
  width:220px;
  background:rgba(0,0,0,0.7);
  position:fixed;top:0;bottom:0;left:0;
  display:flex;flex-direction:column;align-items:center;padding:40px 0;
}
nav h1{font-size:2rem;margin-bottom:40px;}
nav a{color:#fff;text-decoration:none;padding:10px;width:100%;text-align:center;}
nav a:hover,nav a.active{background:#555;}
main{margin-left:220px;padding:40px;}
h2{text-align:center;margin-bottom:30px;font-size:2.5rem;}
.cart-item{
  display:grid;grid-template-columns:1fr 1fr 1fr 1fr;
  align-items:center;gap:10px;
  padding:12px;background:rgba(255,255,255,0.06);
  border-radius:10px;margin-bottom:12px;
}
.cart-item img{width:80px;height:60px;object-fit:cover;border-radius:6px;}
.item-name,.item-variant,.item-price{text-align:center;}
.quantity-controls{display:flex;justify-content:center;align-items:center;gap:6px;}
.quantity-controls button{
  background:#e60023;color:#fff;border:none;padding:4px 10px;
  border-radius:6px;cursor:pointer;
}
.total{text-align:right;margin-top:20px;font-size:1.25rem;color:#ff4c4c;font-weight:700;}
form{
  margin-top:30px;display:flex;flex-direction:column;gap:12px;max-width:400px;
}
form input,form textarea{padding:8px;border-radius:6px;border:none;}
form input[type="text"],form input[type="email"],form textarea{width:100%;}
form button{
  background:#e60023;color:#fff;padding:10px;border:none;border-radius:8px;
  cursor:pointer;font-size:1rem;
}
.order-msg{margin-top:20px;font-size:1.3rem;color:#0f0;text-align:center;}
/* Order tracking box */
#order-tracking{
  margin-top:30px;
  background:rgba(255,255,255,0.08);
  padding:20px;
  border-radius:10px;
  display:none;
  max-width:500px;
  margin-left:auto;
  margin-right:auto;
  text-align:center;
}
.status-step{margin:10px 0;font-size:1.1rem;}
/* progress bar */
.progress-container{
  width:100%;
  background:#333;
  height:12px;
  border-radius:6px;
  overflow:hidden;
  margin-top:15px;
}
.progress-bar{
  height:100%;
  width:0%;
  background:#0f0;
  transition:width 0.8s ease;
}
/* Estimated delivery */
#delivery-estimate{
  margin-top:15px;
  font-size:1rem;
  color:#ccc;
}
@media(max-width:800px){
  .cart-item{grid-template-columns:1fr 1fr;}
}


@media (max-width: 768px) {
  nav {
    position: relative;
    width: 100%;
    height: auto;
    flex-direction: row;
    justify-content: space-around;
    padding: 15px 10px;
  }

  nav h1 {
    margin: 0;
    font-size: 1.5rem;
  }

  nav a {
    padding: 10px;
    font-size: 0.9rem;
    flex: 1;
  }

  main {
    margin-left: 0;
    position: relative;
    top: auto;
    left: auto;
    transform: none;
    margin: 100px auto 60px;
    padding: 20px;
    max-width: 95%;
  }

  main h2 {
    font-size: 2rem;
  }

  main p {
    font-size: 1rem;
  }

  footer.footer {
    position: fixed;
    bottom: 0;
    width: 100%;
    margin-left: 0;
    left: 0;
    padding: 6px;
    font-size: 0.75rem;
    background: rgba(0,0,0,0.9);
  }

  .footer-icons a {
    font-size: 16px;
  }
}
</style>
</head>
<body>

<nav>
  <h1>PRADA</h1>
  <a href="homepage.html">Home</a>
  <a href="campaign.html">Campaigns</a>
  <a href="shop.html">Shop</a>
  <a href="explore.html">Explore</a>
  <a href="cart.html" class="active">Cart</a>
  <a href="about us.html">About Us</a>
</nav>

<main>
  <h2>Your Cart</h2>
  <div id="cart-items"></div>
  <div class="total" id="cart-total">Total: ₱0</div>

  <h2>Buyer Info</h2>
  <form id="buyer-form">
    <input type="text" id="buyer-name" placeholder="Full Name" required>
    <input type="email" id="buyer-email" placeholder="Email" required>
    <textarea id="buyer-address" placeholder="Address" rows="3" required></textarea>
    <button type="submit">Confirm Order</button>
  </form>

  <div class="order-msg" id="order-msg"></div>

  <!-- Order Tracking -->
  <div id="order-tracking">
    <h2>Order Tracking</h2>
    <div id="status-list"></div>
    <div class="progress-container">
      <div class="progress-bar" id="progress-bar"></div>
    </div>
    <div id="delivery-estimate">Estimated delivery: 3–5 business days</div>
  </div>
</main>

<script>
const cartContainer=document.getElementById("cart-items");
const totalDisplay=document.getElementById("cart-total");
const orderMsg=document.getElementById("order-msg");
const trackingBox=document.getElementById("order-tracking");
const statusList=document.getElementById("status-list");
const progressBar=document.getElementById("progress-bar");

let cart=JSON.parse(localStorage.getItem("pradaCart")||"[]");
cart=cart.map(item=>({...item, quantity:1}));

function renderCart(){
  cartContainer.innerHTML="";
  let total=0;
  cart.forEach((item,index)=>{
    const div=document.createElement("div");
    div.classList.add("cart-item");
    const priceNumber=parseInt(item.price.replace(/[^0-9]/g,''));
    total+=priceNumber*item.quantity;
    div.innerHTML=`
      <img src="${item.variantImage||'https://via.placeholder.com/100'}" alt="${item.product}">
      <div class="item-name">${item.product}</div>
      <div class="item-variant">${item.variant}</div>
      <div class="item-price">₱${priceNumber*item.quantity}</div>
      <div class="quantity-controls">
        <button class="minus">-</button>
        <span>${item.quantity}</span>
        <button class="plus">+</button>
      </div>
    `;
    cartContainer.appendChild(div);

    const plusBtn=div.querySelector(".plus");
    const minusBtn=div.querySelector(".minus");
    const qtySpan=div.querySelector("span");
    plusBtn.onclick=()=>{
      item.quantity++;
      qtySpan.textContent=item.quantity;
      updateTotal();
      localStorage.setItem("pradaCart",JSON.stringify(cart));
    }
    minusBtn.onclick=()=>{
      if(item.quantity>1){
        item.quantity--;
        qtySpan.textContent=item.quantity;
        updateTotal();
        localStorage.setItem("pradaCart",JSON.stringify(cart));
      }
    }
  });
  updateTotal();
}
function updateTotal(){
  let total=0;
  cart.forEach(item=>{
    const priceNumber=parseInt(item.price.replace(/[^0-9]/g,''));
    total+=priceNumber*item.quantity;
  });
  totalDisplay.textContent="Total: ₱"+total.toLocaleString();
}
renderCart();

const form=document.getElementById("buyer-form");
form.addEventListener("submit",e=>{
  e.preventDefault();
  if(cart.length===0){alert("Cart is empty"); return;}
  const name=document.getElementById("buyer-name").value;
  orderMsg.textContent=`Thank you ${name}! Your order has been placed.`;
  localStorage.removeItem("pradaCart");
  cart=[];
  renderCart();
  form.reset();
  // show tracking
  startTracking();
});

function startTracking(){
  trackingBox.style.display="block";
  statusList.innerHTML="";
  progressBar.style.width="0%";
  const steps=[
    "Order Placed",
    "Processing",
    "Packed",
    "Out for Delivery",
    "Delivered"
  ];
  let current=0;
  function updateStep(){
    statusList.innerHTML="";
    steps.forEach((step,i)=>{
      const div=document.createElement("div");
      div.className="status-step";
      div.textContent=(i<=current?"✅ ":"⏳ ")+step;
      statusList.appendChild(div);
    });
    progressBar.style.width=((current+1)/steps.length*100)+"%";
    current++;
    if(current<steps.length){
      setTimeout(updateStep,3000);
    }
  }
  updateStep();
}
</script>

</body>
</html>



